{"remainingRequest":"H:\\BaiduNetdiskDownload\\springboot+vue影评系统（2023更新）\\vue\\node_modules\\babel-loader\\lib\\index.js!H:\\BaiduNetdiskDownload\\springboot+vue影评系统（2023更新）\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!H:\\BaiduNetdiskDownload\\springboot+vue影评系统（2023更新）\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!H:\\BaiduNetdiskDownload\\springboot+vue影评系统（2023更新）\\vue\\src\\views\\front\\LongComment.vue?vue&type=script&lang=js","dependencies":[{"path":"H:\\BaiduNetdiskDownload\\springboot+vue影评系统（2023更新）\\vue\\src\\views\\front\\LongComment.vue","mtime":1636984680000},{"path":"H:\\BaiduNetdiskDownload\\springboot+vue影评系统（2023更新）\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"H:\\BaiduNetdiskDownload\\springboot+vue影评系统（2023更新）\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"H:\\BaiduNetdiskDownload\\springboot+vue影评系统（2023更新）\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"H:\\BaiduNetdiskDownload\\springboot+vue影评系统（2023更新）\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHJlcXVlc3QgZnJvbSAiQC91dGlscy9yZXF1ZXN0IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMb25nQ29tbWVudCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVudGl0eTogewogICAgICAgIHRpdGxlOiAnJwogICAgICB9LAogICAgICB1c2VyOiB7fSwKICAgICAgaWQ6IG51bGwKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy51c2VyID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidXNlciIpID8gSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ1c2VyIikpIDoge307CiAgICB0aGlzLmlkID0gdGhpcy4kcm91dGUucXVlcnkuaWQ7CiAgfSwKICBtZXRob2RzOiB7CiAgICBzYXZlOiBmdW5jdGlvbiBzYXZlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLnVzZXIudXNlcm5hbWUpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6ICLor7fnmbvlvZUiLAogICAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLmVudGl0eS51c2VybmFtZSA9IHRoaXMudXNlci51c2VybmFtZTsKCiAgICAgIGlmICghdGhpcy5lbnRpdHkuY29udGVudCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgbWVzc2FnZTogIuivt+Whq+WGmeWGheWuuSIsCiAgICAgICAgICB0eXBlOiAid2FybmluZyIKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuZW50aXR5LnR5cGUgPSAyOwogICAgICB0aGlzLmVudGl0eS5mb3JlaWduSWQgPSB0aGlzLmlkOyAvLyDlpoLmnpzmmK/or4TorrrnmoTor53vvIzlnKggc2F2ZeeahOaXtuWAmeimgeazqOaEj+iuvue9riDlvZPliY3mqKHlnZfnmoRpZOS4uiBmb3JlaWduSWTjgILkuZ/lsLHmmK8gIGVudGl0eS5mb3JlaWduSWQgPSDmqKHlnZdpZAoKICAgICAgcmVxdWVzdC5wb3N0KCIvbWVzc2FnZSIsIHRoaXMuZW50aXR5KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmNvZGUgPT09ICcwJykgewogICAgICAgICAgX3RoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICBtZXNzYWdlOiAi6K+E6K665oiQ5YqfIiwKICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICBtZXNzYWdlOiByZXMubXNnLAogICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBwYXRoOiAnL2Zyb250L2RldGFpbCcsCiAgICAgICAgICBxdWVyeTogX3RoaXMuaWQKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["H:\\BaiduNetdiskDownload\\springboot+vue影评系统（2023更新）\\vue\\src\\views\\front\\LongComment.vue"],"names":[],"mappings":"AAgBA,OAAO,OAAP,MAAoB,iBAApB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,aADO;AAEb,EAAA,IAFa,kBAEN;AACL,WAAO;AACL,MAAA,MAAM,EAAE;AAAC,QAAA,KAAK,EAAE;AAAR,OADH;AAEL,MAAA,IAAI,EAAE,EAFD;AAGL,MAAA,EAAE,EAAE;AAHC,KAAP;AAKD,GARY;AASb,EAAA,OATa,qBASH;AACR,SAAK,IAAL,GAAY,cAAc,CAAC,OAAf,CAAuB,MAAvB,IAAiC,IAAI,CAAC,KAAL,CAAY,cAAc,CAAC,OAAf,CAAuB,MAAvB,CAAZ,CAAjC,GAA+E,EAA3F;AACA,SAAK,EAAL,GAAU,KAAK,MAAL,CAAY,KAAZ,CAAkB,EAA5B;AACD,GAZY;AAab,EAAA,OAAO,EAAE;AACP,IAAA,IADO,kBACA;AAAA;;AACL,UAAI,CAAC,KAAK,IAAL,CAAU,QAAf,EAAyB;AACvB,aAAK,QAAL,CAAc;AACZ,UAAA,OAAO,EAAE,KADG;AAEZ,UAAA,IAAI,EAAE;AAFM,SAAd;AAIA;AACF;;AACA,WAAK,MAAL,CAAY,QAAZ,GAAuB,KAAK,IAAL,CAAU,QAAjC;;AACA,UAAI,CAAC,KAAK,MAAL,CAAY,OAAjB,EAA0B;AACxB,aAAK,QAAL,CAAc;AACZ,UAAA,OAAO,EAAE,OADG;AAEZ,UAAA,IAAI,EAAE;AAFM,SAAd;AAIA;AACF;;AACA,WAAK,MAAL,CAAY,IAAZ,GAAmB,CAAnB;AACA,WAAK,MAAL,CAAY,SAAZ,GAAwB,KAAK,EAA7B,CAjBK,CAkBL;;AACA,MAAA,OAAO,CAAC,IAAR,CAAa,UAAb,EAAyB,KAAK,MAA9B,EAAsC,IAAtC,CAA2C,UAAA,GAAE,EAAK;AAChD,YAAI,GAAG,CAAC,IAAJ,KAAa,GAAjB,EAAsB;AACpB,UAAA,KAAI,CAAC,QAAL,CAAc;AACZ,YAAA,OAAO,EAAE,MADG;AAEZ,YAAA,IAAI,EAAE;AAFM,WAAd;AAIF,SALA,MAKO;AACL,UAAA,KAAI,CAAC,QAAL,CAAc;AACZ,YAAA,OAAO,EAAE,GAAG,CAAC,GADD;AAEZ,YAAA,IAAI,EAAE;AAFM,WAAd;AAIF;;AACA,QAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB;AAAC,UAAA,IAAI,EAAE,eAAP;AAAwB,UAAA,KAAK,EAAE,KAAI,CAAC;AAApC,SAAlB;AACD,OAbD;AAcD;AAlCM;AAbI,CAAf","sourcesContent":["<template>\r\n  <el-card style=\"margin-top: 10px\">\r\n    <el-form>\r\n      <el-form-item label=\"标题\" label-width=\"50px\">\r\n        <el-input v-model=\"entity.title\" style=\"width: 50%\"></el-input>\r\n      </el-form-item>\r\n    </el-form>\r\n    <v-md-editor v-model=\"entity.content\" height=\"400px\"></v-md-editor>\r\n    <div style=\"padding: 10px 0\">\r\n      <el-button @click=\"$router.push({path: '/front/detail', query: id})\">取消</el-button>\r\n      <el-button type=\"primary\" @click=\"save\">发布</el-button>\r\n    </div>\r\n  </el-card>\r\n</template>\r\n\r\n<script>\r\nimport request from \"@/utils/request\";\r\n\r\nexport default {\r\n  name: \"LongComment\",\r\n  data() {\r\n    return {\r\n      entity: {title: ''},\r\n      user: {},\r\n      id: null\r\n    }\r\n  },\r\n  created() {\r\n    this.user = sessionStorage.getItem(\"user\") ? JSON.parse( sessionStorage.getItem(\"user\")) : {}\r\n    this.id = this.$route.query.id\r\n  },\r\n  methods: {\r\n    save() {\r\n      if (!this.user.username) {\r\n        this.$message({\r\n          message: \"请登录\",\r\n          type: \"warning\"\r\n        });\r\n        return;\r\n      }\r\n      this.entity.username = this.user.username\r\n      if (!this.entity.content) {\r\n        this.$message({\r\n          message: \"请填写内容\",\r\n          type: \"warning\"\r\n        });\r\n        return;\r\n      }\r\n      this.entity.type = 2\r\n      this.entity.foreignId = this.id\r\n      // 如果是评论的话，在 save的时候要注意设置 当前模块的id为 foreignId。也就是  entity.foreignId = 模块id\r\n      request.post(\"/message\", this.entity).then(res => {\r\n        if (res.code === '0') {\r\n          this.$message({\r\n            message: \"评论成功\",\r\n            type: \"success\"\r\n          });\r\n        } else {\r\n          this.$message({\r\n            message: res.msg,\r\n            type: \"error\"\r\n          });\r\n        }\r\n        this.$router.push({path: '/front/detail', query: this.id})\r\n      })\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"],"sourceRoot":""}]}