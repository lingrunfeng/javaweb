{"version":3,"sources":["webpack:///./src/views/Meals.vue","webpack:///./src/views/Meals.vue?34d2"],"names":["style","class","type","add","search","placeholder","clearable","load","data","tableData","border","stripe","prop","label","default","src","scope","row","img","preview-src-list","width","size","handleEdit","title","handleDelete","id","reference","loading","handleSizeChange","handleCurrentChange","current-page","pageNum","page-sizes","page-size","pageSize","layout","total","dialogVisible","footer","save","model","entity","label-width","name","autocomplete","director","description","date","value-format","area","item","key","value","action","on-success","fileSuccessUpload","file-list","fileList","url","components","created","this","methods","movieSuccessUpload","res","request","get","params","then","records","put","console","log","code","$message","message","msg","score","post","JSON","parse","stringify","delete","__exports__","render"],"mappings":"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","file":"js/chunk-2d0c0e54.0e43c0f2.js","sourcesContent":["<template>\r\n  <div style=\"padding: 10px\">\r\n\r\n<!--    功能区域-->\r\n    <div style=\"margin: 10px 0\">\r\n      <el-button type=\"primary\" @click=\"add\">新增</el-button>\r\n    </div>\r\n\r\n<!--    搜索区域-->\r\n    <div style=\"margin: 10px 0\">\r\n      <el-input v-model=\"search\" placeholder=\"请输入关键字\" style=\"width: 20%\" clearable></el-input>\r\n      <el-button type=\"primary\" style=\"margin-left: 5px\" @click=\"load\">查询</el-button>\r\n    </div>\r\n    <el-table\r\n        v-loading=\"loading\"\r\n        :data=\"tableData\"\r\n        border\r\n        stripe\r\n        style=\"width: 100%\">\r\n      <el-table-column prop=\"name\" label=\"菜品名称\"></el-table-column>\r\n      <el-table-column prop=\"director\" label=\"菜品负责人\"></el-table-column>\r\n      <el-table-column prop=\"date\" label=\"菜品推出日期\"></el-table-column>\r\n      <el-table-column prop=\"type\" label=\"类型\"></el-table-column>\r\n      <el-table-column prop=\"description\" label=\"菜品简介\"></el-table-column>\r\n      <el-table-column prop=\"zan\" label=\"赞\"></el-table-column>\r\n      <el-table-column prop=\"cai\" label=\"踩\"></el-table-column>\r\n      <el-table-column label=\"图片\">\r\n        <template #default=\"scope\">\r\n          <el-image style=\"width: 100px; height: 100px\" :src=\"scope.row.img\" :preview-src-list=\"[scope.row.img]\"></el-image>\r\n        </template>\r\n      </el-table-column>\r\n<!--      <el-table-column label=\"电影下载\">-->\r\n<!--        <template #default=\"scope\">-->\r\n<!--          <el-button type=\"primary\" @click=\"download(scope.row.url)\">下载</el-button>-->\r\n<!--        </template>-->\r\n<!--      </el-table-column>-->\r\n      <el-table-column label=\"操作\" width=\"150\">\r\n        <template #default=\"scope\">\r\n          <el-button size=\"mini\" @click=\"handleEdit(scope.row)\">编辑</el-button>\r\n          <el-popconfirm title=\"确定删除吗？\" @confirm=\"handleDelete(scope.row.id)\">\r\n            <template #reference>\r\n              <el-button size=\"mini\" type=\"danger\">删除</el-button>\r\n            </template>\r\n          </el-popconfirm>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <div style=\"margin: 10px 0\">\r\n      <el-pagination\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page=\"pageNum\"\r\n          :page-sizes=\"[5, 10, 20]\"\r\n          :page-size=\"pageSize\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"total\">\r\n      </el-pagination>\r\n    </div>\r\n\r\n    <el-dialog title=\"信息\" v-model=\"dialogVisible\" width=\"30%\">\r\n    <el-form :model=\"entity\" label-width=\"120px\">\r\n        <el-form-item label=\"菜品名称\">\r\n          <el-input v-model=\"entity.name\" autocomplete=\"off\" style=\"width: 80%\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"菜品负责人\">\r\n          <el-input v-model=\"entity.director\" autocomplete=\"off\" style=\"width: 80%\"></el-input>\r\n        </el-form-item>\r\n      <el-form-item label=\"菜品简介\">\r\n        <el-input v-model=\"entity.description\" autocomplete=\"off\" style=\"width: 80%\"></el-input>\r\n      </el-form-item>\r\n\r\n        <el-form-item label=\"菜品推出日期\">\r\n          <el-date-picker style=\"width: 80%\" v-model=\"entity.date\" type=\"date\" value-format=\"YYYY-MM-DD\" placeholder=\"选择日期\"></el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item label=\"菜品类型\">\r\n          <el-input v-model=\"entity.type\" autocomplete=\"off\" style=\"width: 80%\"></el-input>\r\n        </el-form-item>\r\n      <el-form-item label=\"菜品所在食堂\">\r\n        <el-select clearable v-model=\"entity.area\" placeholder=\"请选择菜品所在食堂\"  style=\"width: 80%\">\r\n          <el-option v-for=\"item in ['一食堂', '二食堂', '思餐厅', '五食堂','mini餐厅']\" :key=\"item\" :label=\"item\" :value=\"item\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n        <el-form-item label=\"图片\">\r\n          <el-upload action=\"http://1.15.171.191:8080/files/upload\" :on-success=\"fileSuccessUpload\" :file-list=\"fileList\">\r\n            <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n          </el-upload>\r\n        </el-form-item>\r\n\r\n    </el-form>\r\n      <template #footer>\r\n          <span class=\"dialog-footer\">\r\n            <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"save\">确 定</el-button>\r\n          </span>\r\n      </template>\r\n    </el-dialog>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport request from \"@/utils/request\";\r\nlet url = \"/movie\"\r\n\r\nexport default {\r\n  name: 'Movie',\r\n  components: {\r\n\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      entity: {},\r\n      dialogVisible: false,\r\n      search: '',\r\n      pageNum: 1,\r\n      pageSize: 10,\r\n      total: 0,\r\n      tableData: [],\r\n      fileList: []\r\n    }\r\n  },\r\n  created() {\r\n    this.load()\r\n  },\r\n  methods: {\r\n    //上传小视频\r\n    movieSuccessUpload(res) {\r\n      this.entity.url = res.data;\r\n    },\r\n    fileSuccessUpload(res) {\r\n      this.entity.img = res.data;\r\n    },\r\n    load() {\r\n      this.loading = true\r\n      request.get(url + \"/page\", {\r\n        params: {\r\n          pageNum: this.pageNum,\r\n          pageSize: this.pageSize,\r\n          search: this.search\r\n        }\r\n      }).then(res => {\r\n        this.loading = false\r\n        this.tableData = res.data.records\r\n        this.total = res.data.total\r\n      })\r\n    },\r\n    add() {\r\n      this.dialogVisible = true\r\n      this.entity = {}\r\n      this.fileList = []\r\n    },\r\n    save() {\r\n      if (this.entity.id) {  // 更新\r\n        request.put(url, this.entity).then(res => {\r\n          console.log(res)\r\n          if (res.code === '0') {\r\n            this.$message({\r\n              type: \"success\",\r\n              message: \"更新成功\"\r\n            })\r\n          } else {\r\n            this.$message({\r\n              type: \"error\",\r\n              message: res.msg\r\n            })\r\n          }\r\n          this.load() // 刷新表格的数据\r\n          this.dialogVisible = false  // 关闭弹窗\r\n        })\r\n      }  else {  // 新增\r\n        this.entity.score=3;\r\n        request.post(url, this.entity).then(res => {\r\n          console.log(res)\r\n          if (res.code === '0') {\r\n            this.$message({\r\n              type: \"success\",\r\n              message: \"新增成功\"\r\n            })\r\n          } else {\r\n            this.$message({\r\n              type: \"error\",\r\n              message: res.msg\r\n            })\r\n          }\r\n\r\n          this.load() // 刷新表格的数据\r\n          this.dialogVisible = false  // 关闭弹窗\r\n        })\r\n      }\r\n\r\n    },\r\n    handleEdit(row) {\r\n      this.entity = JSON.parse(JSON.stringify(row))\r\n      this.dialogVisible = true\r\n      this.fileList = []\r\n    },\r\n    handleDelete(id) {\r\n      request.delete(url + \"/\" + id).then(res => {\r\n        if (res.code === '0') {\r\n          this.$message({\r\n            type: \"success\",\r\n            message: \"删除成功\"\r\n          })\r\n        } else {\r\n          this.$message({\r\n            type: \"error\",\r\n            message: res.msg\r\n          })\r\n        }\r\n        this.load()  // 删除之后重新加载表格的数据\r\n      })\r\n    },\r\n    handleSizeChange(pageSize) {   // 改变当前每页的个数触发\r\n      this.pageSize = pageSize\r\n      this.load()\r\n    },\r\n    handleCurrentChange(pageNum) {  // 改变当前页码触发\r\n      this.pageNum = pageNum\r\n      this.load()\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./Meals.vue?vue&type=template&id=ebbe8422\"\nimport script from \"./Meals.vue?vue&type=script&lang=js\"\nexport * from \"./Meals.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"H:\\\\BaiduNetdiskDownload\\\\springboot+vue影评系统（2023更新）\\\\vue\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}