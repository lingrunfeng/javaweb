{"version":3,"sources":["webpack:///./src/views/front/LongComment.vue","webpack:///./src/views/front/LongComment.vue?5e96"],"names":["style","label","label-width","entity","title","content","height","$router","push","id","type","save","name","data","user","created","this","sessionStorage","getItem","JSON","parse","$route","query","methods","username","foreignId","request","post","then","res","code","$message","message","msg","path","__exports__","render"],"mappings":"0OAQSA,MAAA,oB,+BACkE,M,+BAC7B,M,2WAT5C,yBAWU,GAXDA,MAAA,uBAAwB,C,WAC/B,iBAIU,CAJV,yBAIU,Q,WAHR,iBAEe,CAFf,yBAEe,GAFDC,MAAM,KAAKC,cAAY,Q,YACnC,iBAA+D,CAA/D,yBAA+D,G,WAA5C,EAAAC,OAAOC,M,qDAAP,EAAAD,OAAOC,MAAK,IAAEJ,MAAA,e,2CAGrC,yBAAmE,G,WAA7C,EAAAG,OAAOE,Q,qDAAP,EAAAF,OAAOE,QAAO,IAAEC,OAAO,S,uBAC7C,yBAGM,MAHN,EAGM,CAFJ,yBAAmF,GAAvE,QAAK,+BAAE,EAAAC,QAAQC,KAAI,4BAAgC,EAAAC,Q,YAAM,iBAAE,C,YACvE,yBAAsD,GAA3CC,KAAK,UAAW,QAAO,EAAAC,M,YAAM,iBAAE,C,qDAQjC,GACbC,KAAM,cACNC,KAFa,WAGX,MAAO,CACLV,OAAQ,CAACC,MAAO,IAChBU,KAAM,GACNL,GAAI,OAGRM,QATa,WAUXC,KAAKF,KAAOG,eAAeC,QAAQ,QAAUC,KAAKC,MAAOH,eAAeC,QAAQ,SAAW,GAC3FF,KAAKP,GAAKO,KAAKK,OAAOC,MAAMb,IAE9Bc,QAAS,CACPZ,KADO,WACA,WACAK,KAAKF,KAAKU,UAOfR,KAAKb,OAAOqB,SAAWR,KAAKF,KAAKU,SAC5BR,KAAKb,OAAOE,SAOjBW,KAAKb,OAAOO,KAAO,EACnBM,KAAKb,OAAOsB,UAAYT,KAAKP,GAE7BiB,EAAA,KAAQC,KAAK,WAAYX,KAAKb,QAAQyB,MAAK,SAAAC,GACxB,MAAbA,EAAIC,KACN,EAAKC,SAAS,CACZC,QAAS,OACTtB,KAAM,YAGR,EAAKqB,SAAS,CACZC,QAASH,EAAII,IACbvB,KAAM,UAGV,EAAKH,QAAQC,KAAK,CAAC0B,KAAM,gBAAiBZ,MAAO,EAAKb,SArBtDO,KAAKe,SAAS,CACZC,QAAS,QACTtB,KAAM,aAVRM,KAAKe,SAAS,CACZC,QAAS,MACTtB,KAAM,e,qBC/BhB,MAAMyB,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E","file":"js/chunk-2d0da550.a6481753.js","sourcesContent":["<template>\r\n  <el-card style=\"margin-top: 10px\">\r\n    <el-form>\r\n      <el-form-item label=\"标题\" label-width=\"50px\">\r\n        <el-input v-model=\"entity.title\" style=\"width: 50%\"></el-input>\r\n      </el-form-item>\r\n    </el-form>\r\n    <v-md-editor v-model=\"entity.content\" height=\"400px\"></v-md-editor>\r\n    <div style=\"padding: 10px 0\">\r\n      <el-button @click=\"$router.push({path: '/front/detail', query: id})\">取消</el-button>\r\n      <el-button type=\"primary\" @click=\"save\">发布</el-button>\r\n    </div>\r\n  </el-card>\r\n</template>\r\n\r\n<script>\r\nimport request from \"@/utils/request\";\r\n\r\nexport default {\r\n  name: \"LongComment\",\r\n  data() {\r\n    return {\r\n      entity: {title: ''},\r\n      user: {},\r\n      id: null\r\n    }\r\n  },\r\n  created() {\r\n    this.user = sessionStorage.getItem(\"user\") ? JSON.parse( sessionStorage.getItem(\"user\")) : {}\r\n    this.id = this.$route.query.id\r\n  },\r\n  methods: {\r\n    save() {\r\n      if (!this.user.username) {\r\n        this.$message({\r\n          message: \"请登录\",\r\n          type: \"warning\"\r\n        });\r\n        return;\r\n      }\r\n      this.entity.username = this.user.username\r\n      if (!this.entity.content) {\r\n        this.$message({\r\n          message: \"请填写内容\",\r\n          type: \"warning\"\r\n        });\r\n        return;\r\n      }\r\n      this.entity.type = 2\r\n      this.entity.foreignId = this.id\r\n      // 如果是评论的话，在 save的时候要注意设置 当前模块的id为 foreignId。也就是  entity.foreignId = 模块id\r\n      request.post(\"/message\", this.entity).then(res => {\r\n        if (res.code === '0') {\r\n          this.$message({\r\n            message: \"评论成功\",\r\n            type: \"success\"\r\n          });\r\n        } else {\r\n          this.$message({\r\n            message: res.msg,\r\n            type: \"error\"\r\n          });\r\n        }\r\n        this.$router.push({path: '/front/detail', query: this.id})\r\n      })\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import { render } from \"./LongComment.vue?vue&type=template&id=5aa6c26f&scoped=true\"\nimport script from \"./LongComment.vue?vue&type=script&lang=js\"\nexport * from \"./LongComment.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"H:\\\\BaiduNetdiskDownload\\\\springboot+vue影评系统（2023更新）\\\\vue\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5aa6c26f\"]])\n\nexport default __exports__"],"sourceRoot":""}